{"ast":null,"code":"var tools = {\n  readVint: function (buffer, start) {\n    start = start || 0;\n\n    for (var length = 1; length <= 8; length++) {\n      if (buffer[start] >= Math.pow(2, 8 - length)) {\n        break;\n      }\n    }\n\n    if (length > 8) {\n      throw new Error(\"Unrepresentable length: \" + length + \" \" + buffer.toString('hex', start, start + length));\n    }\n\n    if (start + length > buffer.length) {\n      return null;\n    }\n\n    var value = buffer[start] & (1 << 8 - length) - 1;\n\n    for (var i = 1; i < length; i++) {\n      if (i === 7) {\n        if (value >= Math.pow(2, 53 - 8) && buffer[start + 7] > 0) {\n          return {\n            length: length,\n            value: -1\n          };\n        }\n      }\n\n      value *= Math.pow(2, 8);\n      value += buffer[start + i];\n    }\n\n    return {\n      length: length,\n      value: value\n    };\n  },\n  writeVint: function (value) {\n    if (value < 0 || value > Math.pow(2, 53)) {\n      throw new Error(\"Unrepresentable value: \" + value);\n    }\n\n    for (var length = 1; length <= 8; length++) {\n      if (value < Math.pow(2, 7 * length) - 1) {\n        break;\n      }\n    }\n\n    var buffer = new Buffer(length);\n\n    for (var i = 1; i <= length; i++) {\n      var b = value & 0xFF;\n      buffer[length - i] = b;\n      value -= b;\n      value /= Math.pow(2, 8);\n    }\n\n    buffer[0] = buffer[0] | 1 << 8 - length;\n    return buffer;\n  }\n};\nmodule.exports = tools;","map":{"version":3,"sources":["/Users/arnabdhar/Desktop/meetingbuddy/node_modules/ebml/lib/ebml/tools.js"],"names":["tools","readVint","buffer","start","length","Math","pow","Error","toString","value","i","writeVint","Buffer","b","module","exports"],"mappings":"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","sourcesContent":["var tools = {\n    readVint: function(buffer, start) {\n        start = start || 0;\n        for (var length = 1; length <= 8; length++) {\n            if (buffer[start] >= Math.pow(2, 8 - length)) {\n                break;\n            }\n        }\n        if (length > 8) {\n            throw new Error(\"Unrepresentable length: \" + length + \" \" +\n                buffer.toString('hex', start, start + length));\n        }\n        if (start + length > buffer.length) {\n            return null;\n        }\n        var value = buffer[start] & (1 << (8 - length)) - 1;\n        for (var i = 1; i < length; i++) {\n            if (i === 7) {\n                if (value >= Math.pow(2, 53 - 8) && buffer[start + 7] > 0) {\n                    return {\n                        length: length,\n                        value: -1\n                    };\n                }\n            }\n            value *= Math.pow(2, 8);\n            value += buffer[start + i];\n        }\n        return {\n            length: length,\n            value: value\n        };\n    },\n\n    writeVint: function(value) {\n        if (value < 0 || value > Math.pow(2, 53)) {\n            throw new Error(\"Unrepresentable value: \" + value);\n        }\n        for (var length = 1; length <= 8; length++) {\n            if (value < Math.pow(2, 7 * length) - 1) {\n                break;\n            }\n        }\n        var buffer = new Buffer(length);\n        for (var i = 1; i <= length; i++) {\n            var b = value & 0xFF;\n            buffer[length - i] = b;\n            value -= b;\n            value /= Math.pow(2, 8);\n        }\n        buffer[0] = buffer[0] | (1 << (8 - length));\n        return buffer;\n    }\n};\n\nmodule.exports = tools;\n"]},"metadata":{},"sourceType":"script"}