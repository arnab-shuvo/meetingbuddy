{"ast":null,"code":"var _jsxFileName = \"/Users/arnabdhar/Desktop/meetingbuddy/Client/src/Pages/NewMeeting/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Grid } from '@mui/material';\nimport React, { useState } from 'react';\nimport { ReactMic } from 'react-mic';\nimport { HomeWrapper, RecordTitle } from './styled';\nimport Fab from '@mui/material/Fab';\nimport PlayIcon from '@mui/icons-material/PlayArrow';\nimport StopIcon from '@mui/icons-material/Stop';\nimport DoneIcon from '@mui/icons-material/Done';\nimport ReactQuill from \"react-quill\";\nimport 'react-quill/dist/quill.snow.css';\nimport Loader from '../../Components/Loader';\nimport Box from '@mui/material/Box';\nimport { useHistory } from 'react-router-dom';\nimport Modal from '@mui/material/Modal';\nimport TextField from '@mui/material/TextField';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 400,\n  bgcolor: 'background.paper',\n  border: '2px solid #000',\n  boxShadow: 24,\n  p: 4\n};\n\nconst NewMeeting = () => {\n  _s();\n\n  const history = useHistory();\n  const [record, setRecord] = useState(false);\n  const [loader, setLoader] = useState(false);\n  const [convertedText, setConvertedText] = useState('');\n  const [summary, setSummary] = useState('');\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => setOpen(true);\n\n  const handleClose = () => setOpen(false);\n\n  const [title, setTitle] = useState('');\n  const [error, setError] = useState(false);\n\n  const startRecording = () => {\n    setRecord(true);\n  };\n\n  const stopRecording = () => {\n    setRecord(false);\n  };\n\n  const onStop = async recordedBlob => {\n    setLoader(true);\n    var reader = new FileReader();\n    reader.readAsDataURL(recordedBlob.blob);\n\n    reader.onloadend = async () => {\n      let base64String = reader.result;\n      const rawResponse = await fetch('http://localhost:3800/submit-audio', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        },\n        body: JSON.stringify({\n          audio: base64String\n        })\n      });\n      const response = await rawResponse.json();\n      setConvertedText(response.full_text);\n      setSummary(response.summary);\n      setLoader(false);\n    };\n  };\n\n  const updateMeting = async () => {\n    handleOpen();\n  };\n\n  const submitMeeting = async () => {\n    if (title !== '') {\n      try {\n        await fetch('http://localhost:3800/submit-meeting', {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          },\n          body: JSON.stringify({\n            title: title,\n            full_text: convertedText,\n            summary: summary\n          })\n        });\n        history.push('/');\n      } catch (error) {\n        console.log(error);\n        alert('Something Went Wrong !!!!');\n      }\n    } else {\n      setError(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(HomeWrapper, {\n    container: true,\n    alignItems: 'flex-start',\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"modal-modal-title\",\n      \"aria-describedby\": \"modal-modal-description\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: style,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Meeting Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          onChange: e => {\n            setError(false);\n            setTitle(e.target.value);\n          },\n          error: error,\n          fullWidth: true,\n          label: \"Title\",\n          id: \"fullWidth\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            marginTop: '10px'\n          },\n          size: \"large\",\n          variant: \"contained\",\n          onClick: submitMeeting,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this), loader && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      item: true,\n      md: 12,\n      justifyContent: 'center',\n      children: /*#__PURE__*/_jsxDEV(RecordTitle, {\n        children: \"Start New Meeting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      md: 12,\n      children: /*#__PURE__*/_jsxDEV(ReactMic, {\n        record: record,\n        className: \"sound-wave\",\n        onStop: onStop,\n        noiseSuppression: true,\n        strokeColor: \"#fff\",\n        backgroundColor: \"#065c91\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      item: true,\n      md: 12,\n      justifyContent: 'center',\n      children: /*#__PURE__*/_jsxDEV(RecordTitle, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            '& > :not(style)': {\n              m: 1\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(Fab, {\n            onClick: startRecording,\n            color: \"primary\",\n            \"aria-label\": \"add\",\n            children: /*#__PURE__*/_jsxDEV(PlayIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Fab, {\n            onClick: stopRecording,\n            color: \"secondary\",\n            \"aria-label\": \"add\",\n            children: /*#__PURE__*/_jsxDEV(StopIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this), convertedText && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        item: true,\n        md: 6,\n        justifyContent: 'center',\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Full Speech\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n          theme: \"snow\",\n          value: convertedText,\n          onChange: setConvertedText,\n          style: {\n            minHeight: '300px',\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        item: true,\n        md: 6,\n        justifyContent: 'center',\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n          theme: \"snow\",\n          value: summary,\n          onChange: setSummary,\n          style: {\n            minHeight: '300px',\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"save-meeting-btn\",\n        onClick: updateMeting,\n        children: /*#__PURE__*/_jsxDEV(DoneIcon, {\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 73\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 12\n  }, this);\n};\n\n_s(NewMeeting, \"aBKpfvgsBZ6BAL5Nb/RaYFR9FW0=\", false, function () {\n  return [useHistory];\n});\n\n_c = NewMeeting;\nexport default NewMeeting;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewMeeting\");","map":{"version":3,"sources":["/Users/arnabdhar/Desktop/meetingbuddy/Client/src/Pages/NewMeeting/index.tsx"],"names":["Button","Grid","React","useState","ReactMic","HomeWrapper","RecordTitle","Fab","PlayIcon","StopIcon","DoneIcon","ReactQuill","Loader","Box","useHistory","Modal","TextField","style","position","top","left","transform","width","bgcolor","border","boxShadow","p","NewMeeting","history","record","setRecord","loader","setLoader","convertedText","setConvertedText","summary","setSummary","open","setOpen","handleOpen","handleClose","title","setTitle","error","setError","startRecording","stopRecording","onStop","recordedBlob","reader","FileReader","readAsDataURL","blob","onloadend","base64String","result","rawResponse","fetch","method","headers","body","JSON","stringify","audio","response","json","full_text","updateMeting","submitMeeting","push","console","log","alert","e","target","value","marginTop","m","minHeight"],"mappings":"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","sourcesContent":["import { Button, Grid } from '@mui/material';\nimport React,{useState} from 'react';\nimport { ReactMic } from 'react-mic';\nimport {HomeWrapper, RecordTitle} from './styled'\nimport Fab from '@mui/material/Fab';\nimport PlayIcon from '@mui/icons-material/PlayArrow';\nimport StopIcon from '@mui/icons-material/Stop';\nimport DoneIcon from '@mui/icons-material/Done';\nimport ReactQuill from \"react-quill\"\nimport 'react-quill/dist/quill.snow.css'\nimport Loader from '../../Components/Loader';\nimport Box from '@mui/material/Box';\nimport {useHistory} from 'react-router-dom'\nimport Modal from '@mui/material/Modal';\nimport TextField from '@mui/material/TextField';\n\nconst style = {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    width: 400,\n    bgcolor: 'background.paper',\n    border: '2px solid #000',\n    boxShadow: 24,\n    p: 4,\n  };\n\nconst NewMeeting:React.FC = () =>{\n    const history = useHistory()\n    const [record,setRecord] = useState<boolean>(false)\n    const [loader,setLoader] = useState<boolean>(false)\n    const [convertedText, setConvertedText] = useState('');\n    const [summary, setSummary] = useState('');\n\n    const [open, setOpen] = React.useState(false);\n    const handleOpen = () => setOpen(true);\n    const handleClose = () => setOpen(false);\n    const [title,setTitle] = useState<string>('')\n    const [error,setError] = useState<boolean>(false)\n  \n\n    const startRecording = () => {\n        setRecord(true)\n    }\n     \n     const stopRecording = () => {\n        setRecord(false)\n    }\n    const onStop = async (recordedBlob:any) =>{\n        setLoader(true)\n        var reader = new FileReader();\n        reader.readAsDataURL(recordedBlob.blob);\n        reader.onloadend = async  () =>{\n            let base64String = reader.result;\n            const rawResponse = await fetch('http://localhost:3800/submit-audio', {\n                method: 'POST',\n                headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin':'*'\n                },\n                body:JSON.stringify({audio:base64String})\n            });\n            const response = await rawResponse.json()\n            setConvertedText(response.full_text)\n            setSummary(response.summary)\n            setLoader(false)\n            \n        }\n        \n    }\n\n    const updateMeting = async () =>{\n        handleOpen()\n        \n    }\n    const submitMeeting = async () =>{\n        if(title !== ''){\n            try {\n                await fetch('http://localhost:3800/submit-meeting', {\n                    method: 'POST',\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json',\n                        'Access-Control-Allow-Origin':'*'\n                    },\n                    body:JSON.stringify({title:title,full_text:convertedText,summary: summary})\n                });\n                history.push('/')\n            } catch (error) {\n                console.log(error);\n                \n                alert('Something Went Wrong !!!!')\n            }\n        }\n        else{\n            setError(true)\n        }\n        \n    }\n    \n\n    return <HomeWrapper container alignItems={'flex-start'}>\n        <Modal\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"modal-modal-title\"\n            aria-describedby=\"modal-modal-description\"\n        >\n            <Box sx={style}>\n                <p>Meeting Title</p>\n                <TextField onChange={(e)=>{\n                    setError(false)\n                    setTitle(e.target.value)\n                }} error={error} fullWidth label=\"Title\" id=\"fullWidth\" />\n                <Button style={{marginTop: '10px'}} size='large' variant='contained' onClick={submitMeeting}>Save</Button> \n            </Box>\n        </Modal>\n        {loader && <Loader />}\n        <Grid container item md={12} justifyContent={'center'}>\n            <RecordTitle>Start New Meeting</RecordTitle>\n        </Grid>\n        <Grid item md={12}>\n            <ReactMic\n            record={record}\n            className=\"sound-wave\"\n            onStop={onStop}\n            noiseSuppression={true}\n            strokeColor=\"#fff\"\n            backgroundColor=\"#065c91\" />\n        </Grid>\n        <Grid container item md={12} justifyContent={'center'}>\n            <RecordTitle>\n            <Box sx={{ '& > :not(style)': { m: 1 } }}>\n                <Fab onClick={startRecording} color=\"primary\" aria-label=\"add\">\n                    <PlayIcon />\n                </Fab>\n                <Fab onClick={stopRecording} color=\"secondary\" aria-label=\"add\">\n                    <StopIcon />\n                </Fab>\n            </Box>\n            </RecordTitle>\n        </Grid>{\n            convertedText &&<>\n            <Grid container item md={6} justifyContent={'center'}>\n                <h3>Full Speech</h3>\n                <ReactQuill\n                    theme='snow'\n                    value={convertedText}\n                    onChange={setConvertedText}\n                    style={{minHeight: '300px',width: '100%'}}\n                />    \n            </Grid>\n            <Grid container item md={6} justifyContent={'center'}>\n                <h3>Summary</h3>\n                <ReactQuill\n                    theme='snow'\n                    \n                    value={summary}\n                    onChange={setSummary}\n                    style={{minHeight: '300px',width: '100%'}}\n                />    \n            </Grid>\n            <button className='save-meeting-btn' onClick={updateMeting}><DoneIcon fontSize='large'/></button>\n            </>\n        }\n        \n        \n\n    </HomeWrapper>\n}\n\nexport default NewMeeting"]},"metadata":{},"sourceType":"module"}